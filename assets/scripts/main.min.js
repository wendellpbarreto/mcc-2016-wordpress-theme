var engineCarousel = function() {

	var heroCarousel = $('section#hero div.carousel');
	heroCarousel.owlCarousel({
		items: 1,
		lazyLoad: true,
		autoplay: true,
		loop: true,
		animateOut: 'fadeOut',
		animateIn: 'fadeIn',
		dots: true,
		// nav: true,
		navClass: ['owl-prev' , 'owl-next'],
		navText: ['<i class="fa fa-angle-left"></i>', '<i class="fa fa-angle-right"></i>'],
	});



	var featuredPostsCarousel = $('#posts .posts__featured-carousel');

	featuredPostsCarousel.owlCarousel({
		items: 1,
		lazyLoad: true,
		autoplay: false,
		loop: true,
		animateOut: 'fadeOut',
		animateIn: 'fadeIn',
		dots: true,
	});

	var $sync1 = $(".post__carousel"),
	$sync2 = $(".post__carousel-thumbs"),
	flag = false,
	duration = 300;

	$sync1
	.owlCarousel({
		items: 1,
		lazyLoad: true,
		margin: 10,
	})
	.on('changed.owl.carousel', function (e) {
		if (!flag) {
			flag = true;
			$sync2.trigger('to.owl.carousel', [e.item.index, duration, true]);
			flag = false;
		}
	});

	$sync2
	.owlCarousel({
		margin: 1,
		// loop: true,
		items: 6,
		// center: true,
	})
	.on('click', '.owl-item', function () {
		$sync1.trigger('to.owl.carousel', [$(this).index(), duration, true]);

	})
	.on('changed.owl.carousel', function (e) {
		if (!flag) {
			flag = true;
			$sync1.trigger('to.owl.carousel', [e.item.index, duration, true]);
			flag = false;
		}
	});

	var wpCarousel = $('.gallery');

	wpCarousel.find('br').remove();
	wpCarousel.find('.gallery-item').each(function() {
		img = $(this).find('img');
		subtitle = img.attr('alt');
		subtitleHtml = '<p class="gallery-title">' + subtitle + '<p>';

		$(this).append(subtitleHtml);
	});

	wpCarousel.owlCarousel({
		items: 1,
		lazyLoad: true,
		autoplay: true,
		// loop: true,
		animateOut: 'fadeOut',
		animateIn: 'fadeIn',
		// dots: true,
		nav: true,
		navClass: ['owl-prev' , 'owl-next'],
		navText: ['<i class="fa fa-angle-left"></i>', '<i class="fa fa-angle-right"></i>'],
	});
}

$(document).ready(function(){
	engineCarousel();
});

scrollTo = function(target) {
    $('html, body').animate({ scrollTop: target.offset().top - 85 }, 1000);
};

$(document).foundation();

$(document).on('click', '[data-scroll-to]', function() {
    console.log("Clicked")
    scrollTo($($(this).attr('data-scroll-to')));
});

(function() {
    var clickable = {
        elements: document.querySelectorAll('[data-href]'),

        redirect_to: function(href, target) {
            target = target || "";
            clickable.simulate_anchor(href, target);
        },

        simulate_anchor: function(href, target) {
            var anchor = document.createElement("a");
            anchor.setAttribute('href', href);
            anchor.setAttribute('target', target);
            anchor.click();
        },

        init: function() {
            for (var i = 0; i < this.elements.length; i++) {
                var element = this.elements[i];
                element.style.cursor = 'pointer';
                element.addEventListener('click', function() {
                    clickable.redirect_to(
                        this.getAttribute('data-href'),
                        this.getAttribute('data-target')
                    );
                }, false);
            }
        }
    };

    clickable.init();
})();

;(function(window) {

    'use strict';

    var docElem = window.document.documentElement;

    function getViewportH() {
        var client = docElem['clientHeight'],
            inner = window['innerHeight'];

        if( client < inner )
            return inner;
        else
            return client;
    }

    function scrollY() {
        return window.pageYOffset || docElem.scrollTop;
    }

    // http://stackoverflow.com/a/5598797/989439
    function getOffset( el ) {
        var offsetTop = 0, offsetLeft = 0;
        do {
            if ( !isNaN( el.offsetTop ) ) {
                offsetTop += el.offsetTop;
            }
            if ( !isNaN( el.offsetLeft ) ) {
                offsetLeft += el.offsetLeft;
            }
        } while( el = el.offsetParent )

        return {
            top : offsetTop,
            left : offsetLeft
        }
    }

    function inViewport( el, h ) {
        var elH = el.offsetHeight,
            scrolled = scrollY(),
            viewed = scrolled + getViewportH(),
            elTop = getOffset(el).top,
            elBottom = elTop + elH,
            // if 0, the element is considered in the viewport as soon as it enters.
            // if 1, the element is considered in the viewport only when it's fully inside
            // value in percentage (1 >= h >= 0)
            h = h || 0;

        return (elTop + elH * h) <= viewed && (elBottom) >= scrolled;
    }

    function extend( a, b ) {
        for( var key in b ) {
            if( b.hasOwnProperty( key ) ) {
                a[key] = b[key];
            }
        }
        return a;
    }

    function cbpScroller( el, options ) {
        this.el = el;
        this.options = extend( this.defaults, options );
        this._init();
    }

    function hasClass(element, cls) {
        return (' ' + element.className + ' ').indexOf(' ' + cls + ' ') > -1;
    }

    cbpScroller.prototype = {
        defaults : {
            // The viewportFactor defines how much of the appearing item has to be visible in order to trigger the animation
            // if we'd use a value of 0, this would mean that it would add the animation class as soon as the item is in the viewport.
            // If we were to use the value of 1, the animation would only be triggered when we see all of the item in the viewport (100% of it)
            viewportFactor : 0.2
        },
        _init : function() {
            if( Modernizr.touch ) return;
            this.sections = Array.prototype.slice.call( this.el.querySelectorAll( '.animated' ) );
            this.didScroll = false;

            var self = this;

            var scrollHandler = function() {
                    if( !self.didScroll ) {
                        self.didScroll = true;
                        setTimeout( function() { self._scrollPage(); }, 60 );
                    }
                },
                resizeHandler = function() {
                    function delayed() {
                        self._scrollPage();
                        self.resizeTimeout = null;
                    }
                    if ( self.resizeTimeout ) {
                        clearTimeout( self.resizeTimeout );
                    }
                    self.resizeTimeout = setTimeout( delayed, 200 );
                };

            window.addEventListener( 'scroll', scrollHandler, false );
            window.addEventListener( 'resize', resizeHandler, false );
        },
        _scrollPage : function() {
            var self = this;

            this.sections.forEach( function( el, i ) {
                if( inViewport( el, self.options.viewportFactor ) ) {
                    classie.add( el, 'appeared' );

                    if (hasClass(el, 'fade-in-left')) {
                        classie.add(el, 'fadeInLeft');
                    } else if (hasClass(el, 'fade-in-right')) {
                        classie.add(el, 'fadeInRight');
                    } else if (hasClass(el, 'fade-in-up')) {
                        classie.add(el, 'fadeInUp');
                    } else if (hasClass(el, 'fade-in')) {
                        classie.add(el, 'fadeIn');
                    } else if (hasClass(el, 'fade-in-down')) {
                        classie.add(el, 'fadeInDown');
                    }
                }
            });
            this.didScroll = false;
        }
    }

    // add to global namespace
    window.cbpScroller = cbpScroller;

})(window);

maps = function() {
	var init, render;

	render = function() {
		var map, marker, myOptions, style;
		style = [
		{
			"stylers": [
			{
				"saturation": -100
			}, {
				"gamma": 0.8
			}, {
				"lightness": 4
			}, {
				"visibility": "on"
			}
			]
		}, {
			"featureType": "landscape.natural",
			"stylers": [
			{
				"visibility": "on"
			}, {
				"color": "#5dff00"
			}, {
				"gamma": 4.97
			}, {
				"lightness": -5
			}, {
				"saturation": 100
			}
			]
		}
		];
		myOptions = {
			zoom: 18,
			center: new google.maps.LatLng(-5.803316,-35.20184),
			mapTypeId: google.maps.MapTypeId.ROADMAP,
			styles: style,
			mapTypeControl: false,
			streetViewControl: false,
			scrollwheel: false,
			navigationControl: false,
			scaleControl: false,
			overviewMapControl: false,
			panControl: true,
			zoomControl: true,
			zoomControlOptions: {
				style: google.maps.ZoomControlStyle.LARGE
			}
		};
		if (document.getElementById('map')) {
			map = new google.maps.Map(document.getElementById('map'), myOptions);

			marker1 = new google.maps.Marker({
				position: new google.maps.LatLng(-5.803316,-35.20184),
				map: map,
				icon: ''
			});

			// var infowindow1 = new google.maps.InfoWindow({
			// 	content: '<div id="content" class="map__info">'+
			// 	'<h4 class="map__title">Cinema da Fundaj</h4>'+
			// 	'<div id="bodyContent">'+
			// 	'<p class="map__address"><b>Rua Henrique Dias, 609 - Derby - Recife/PE</b></p>' +
			// 	'</div>'+
			// 	'</div>'
			// });

			// google.maps.event.addListener(marker1, 'mouseover', function() {
			// 	infowindow1.open(map, marker1);
			// });
		}
	};
	init = function() {
		if (document.getElementById('map')) {
			return render();
		}
	};
	return {
		init: init
	};
};

$(document).ready(function(){
	var map = maps();
	map.init();
});

function scrollHandler() {
  var scrollTop = $(window).scrollTop();

  var topbar = $('#topbar');
  var topbarHeight = topbar.outerHeight();

	if (scrollTop > topbarHeight) {
		classie.add(topbar[0], 'fixed-topbar');
	} else {
		classie.remove(topbar[0], 'fixed-topbar');
	}
}

// $(window).scroll(scrollHandler);

$('#topbar .topbar__nav a[data-drop]')
	.mouseenter(function() {
		var dropdown = $(this).attr('data-drop');
		// $('.' + dropdown).closest('.dropdown--wrap').show();
		$('.' + dropdown).closest('.dropdown--wrap').addClass('show');
	})
	.mouseleave(function() {
		var dropdown = $(this).attr('data-drop');
		// $('.' + dropdown).closest('.dropdown--wrap').hide();
		$('.' + dropdown).closest('.dropdown--wrap').removeClass('show');
	})
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcm91c2VsLmpzIiwibWFpbi5qcyIsIm1hcC5qcyIsInNjcm9sbC1oYW5kbGUuanMiLCJ0b3BiYXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNoR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDekZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZW5naW5lQ2Fyb3VzZWwgPSBmdW5jdGlvbigpIHtcblxuXHR2YXIgaGVyb0Nhcm91c2VsID0gJCgnc2VjdGlvbiNoZXJvIGRpdi5jYXJvdXNlbCcpO1xuXHRoZXJvQ2Fyb3VzZWwub3dsQ2Fyb3VzZWwoe1xuXHRcdGl0ZW1zOiAxLFxuXHRcdGxhenlMb2FkOiB0cnVlLFxuXHRcdGF1dG9wbGF5OiB0cnVlLFxuXHRcdGxvb3A6IHRydWUsXG5cdFx0YW5pbWF0ZU91dDogJ2ZhZGVPdXQnLFxuXHRcdGFuaW1hdGVJbjogJ2ZhZGVJbicsXG5cdFx0ZG90czogdHJ1ZSxcblx0XHQvLyBuYXY6IHRydWUsXG5cdFx0bmF2Q2xhc3M6IFsnb3dsLXByZXYnICwgJ293bC1uZXh0J10sXG5cdFx0bmF2VGV4dDogWyc8aSBjbGFzcz1cImZhIGZhLWFuZ2xlLWxlZnRcIj48L2k+JywgJzxpIGNsYXNzPVwiZmEgZmEtYW5nbGUtcmlnaHRcIj48L2k+J10sXG5cdH0pO1xuXG5cblxuXHR2YXIgZmVhdHVyZWRQb3N0c0Nhcm91c2VsID0gJCgnI3Bvc3RzIC5wb3N0c19fZmVhdHVyZWQtY2Fyb3VzZWwnKTtcblxuXHRmZWF0dXJlZFBvc3RzQ2Fyb3VzZWwub3dsQ2Fyb3VzZWwoe1xuXHRcdGl0ZW1zOiAxLFxuXHRcdGxhenlMb2FkOiB0cnVlLFxuXHRcdGF1dG9wbGF5OiBmYWxzZSxcblx0XHRsb29wOiB0cnVlLFxuXHRcdGFuaW1hdGVPdXQ6ICdmYWRlT3V0Jyxcblx0XHRhbmltYXRlSW46ICdmYWRlSW4nLFxuXHRcdGRvdHM6IHRydWUsXG5cdH0pO1xuXG5cdHZhciAkc3luYzEgPSAkKFwiLnBvc3RfX2Nhcm91c2VsXCIpLFxuXHQkc3luYzIgPSAkKFwiLnBvc3RfX2Nhcm91c2VsLXRodW1ic1wiKSxcblx0ZmxhZyA9IGZhbHNlLFxuXHRkdXJhdGlvbiA9IDMwMDtcblxuXHQkc3luYzFcblx0Lm93bENhcm91c2VsKHtcblx0XHRpdGVtczogMSxcblx0XHRsYXp5TG9hZDogdHJ1ZSxcblx0XHRtYXJnaW46IDEwLFxuXHR9KVxuXHQub24oJ2NoYW5nZWQub3dsLmNhcm91c2VsJywgZnVuY3Rpb24gKGUpIHtcblx0XHRpZiAoIWZsYWcpIHtcblx0XHRcdGZsYWcgPSB0cnVlO1xuXHRcdFx0JHN5bmMyLnRyaWdnZXIoJ3RvLm93bC5jYXJvdXNlbCcsIFtlLml0ZW0uaW5kZXgsIGR1cmF0aW9uLCB0cnVlXSk7XG5cdFx0XHRmbGFnID0gZmFsc2U7XG5cdFx0fVxuXHR9KTtcblxuXHQkc3luYzJcblx0Lm93bENhcm91c2VsKHtcblx0XHRtYXJnaW46IDEsXG5cdFx0Ly8gbG9vcDogdHJ1ZSxcblx0XHRpdGVtczogNixcblx0XHQvLyBjZW50ZXI6IHRydWUsXG5cdH0pXG5cdC5vbignY2xpY2snLCAnLm93bC1pdGVtJywgZnVuY3Rpb24gKCkge1xuXHRcdCRzeW5jMS50cmlnZ2VyKCd0by5vd2wuY2Fyb3VzZWwnLCBbJCh0aGlzKS5pbmRleCgpLCBkdXJhdGlvbiwgdHJ1ZV0pO1xuXG5cdH0pXG5cdC5vbignY2hhbmdlZC5vd2wuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoZSkge1xuXHRcdGlmICghZmxhZykge1xuXHRcdFx0ZmxhZyA9IHRydWU7XG5cdFx0XHQkc3luYzEudHJpZ2dlcigndG8ub3dsLmNhcm91c2VsJywgW2UuaXRlbS5pbmRleCwgZHVyYXRpb24sIHRydWVdKTtcblx0XHRcdGZsYWcgPSBmYWxzZTtcblx0XHR9XG5cdH0pO1xuXG5cdHZhciB3cENhcm91c2VsID0gJCgnLmdhbGxlcnknKTtcblxuXHR3cENhcm91c2VsLmZpbmQoJ2JyJykucmVtb3ZlKCk7XG5cdHdwQ2Fyb3VzZWwuZmluZCgnLmdhbGxlcnktaXRlbScpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0aW1nID0gJCh0aGlzKS5maW5kKCdpbWcnKTtcblx0XHRzdWJ0aXRsZSA9IGltZy5hdHRyKCdhbHQnKTtcblx0XHRzdWJ0aXRsZUh0bWwgPSAnPHAgY2xhc3M9XCJnYWxsZXJ5LXRpdGxlXCI+JyArIHN1YnRpdGxlICsgJzxwPic7XG5cblx0XHQkKHRoaXMpLmFwcGVuZChzdWJ0aXRsZUh0bWwpO1xuXHR9KTtcblxuXHR3cENhcm91c2VsLm93bENhcm91c2VsKHtcblx0XHRpdGVtczogMSxcblx0XHRsYXp5TG9hZDogdHJ1ZSxcblx0XHRhdXRvcGxheTogdHJ1ZSxcblx0XHQvLyBsb29wOiB0cnVlLFxuXHRcdGFuaW1hdGVPdXQ6ICdmYWRlT3V0Jyxcblx0XHRhbmltYXRlSW46ICdmYWRlSW4nLFxuXHRcdC8vIGRvdHM6IHRydWUsXG5cdFx0bmF2OiB0cnVlLFxuXHRcdG5hdkNsYXNzOiBbJ293bC1wcmV2JyAsICdvd2wtbmV4dCddLFxuXHRcdG5hdlRleHQ6IFsnPGkgY2xhc3M9XCJmYSBmYS1hbmdsZS1sZWZ0XCI+PC9pPicsICc8aSBjbGFzcz1cImZhIGZhLWFuZ2xlLXJpZ2h0XCI+PC9pPiddLFxuXHR9KTtcbn1cblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblx0ZW5naW5lQ2Fyb3VzZWwoKTtcbn0pO1xuIiwic2Nyb2xsVG8gPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7IHNjcm9sbFRvcDogdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIDg1IH0sIDEwMDApO1xufTtcblxuJChkb2N1bWVudCkuZm91bmRhdGlvbigpO1xuXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtc2Nyb2xsLXRvXScsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiQ2xpY2tlZFwiKVxuICAgIHNjcm9sbFRvKCQoJCh0aGlzKS5hdHRyKCdkYXRhLXNjcm9sbC10bycpKSk7XG59KTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIHZhciBjbGlja2FibGUgPSB7XG4gICAgICAgIGVsZW1lbnRzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1ocmVmXScpLFxuXG4gICAgICAgIHJlZGlyZWN0X3RvOiBmdW5jdGlvbihocmVmLCB0YXJnZXQpIHtcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldCB8fCBcIlwiO1xuICAgICAgICAgICAgY2xpY2thYmxlLnNpbXVsYXRlX2FuY2hvcihocmVmLCB0YXJnZXQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNpbXVsYXRlX2FuY2hvcjogZnVuY3Rpb24oaHJlZiwgdGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgICAgICBhbmNob3Iuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG4gICAgICAgICAgICBhbmNob3Iuc2V0QXR0cmlidXRlKCd0YXJnZXQnLCB0YXJnZXQpO1xuICAgICAgICAgICAgYW5jaG9yLmNsaWNrKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudHNbaV07XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGUucmVkaXJlY3RfdG8oXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1ocmVmJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjbGlja2FibGUuaW5pdCgpO1xufSkoKTtcblxuOyhmdW5jdGlvbih3aW5kb3cpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkb2NFbGVtID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgIGZ1bmN0aW9uIGdldFZpZXdwb3J0SCgpIHtcbiAgICAgICAgdmFyIGNsaWVudCA9IGRvY0VsZW1bJ2NsaWVudEhlaWdodCddLFxuICAgICAgICAgICAgaW5uZXIgPSB3aW5kb3dbJ2lubmVySGVpZ2h0J107XG5cbiAgICAgICAgaWYoIGNsaWVudCA8IGlubmVyIClcbiAgICAgICAgICAgIHJldHVybiBpbm5lcjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGNsaWVudDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY3JvbGxZKCkge1xuICAgICAgICByZXR1cm4gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsVG9wO1xuICAgIH1cblxuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU1OTg3OTcvOTg5NDM5XG4gICAgZnVuY3Rpb24gZ2V0T2Zmc2V0KCBlbCApIHtcbiAgICAgICAgdmFyIG9mZnNldFRvcCA9IDAsIG9mZnNldExlZnQgPSAwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoICFpc05hTiggZWwub2Zmc2V0VG9wICkgKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0VG9wICs9IGVsLm9mZnNldFRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICggIWlzTmFOKCBlbC5vZmZzZXRMZWZ0ICkgKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCArPSBlbC5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlKCBlbCA9IGVsLm9mZnNldFBhcmVudCApXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcCA6IG9mZnNldFRvcCxcbiAgICAgICAgICAgIGxlZnQgOiBvZmZzZXRMZWZ0XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpblZpZXdwb3J0KCBlbCwgaCApIHtcbiAgICAgICAgdmFyIGVsSCA9IGVsLm9mZnNldEhlaWdodCxcbiAgICAgICAgICAgIHNjcm9sbGVkID0gc2Nyb2xsWSgpLFxuICAgICAgICAgICAgdmlld2VkID0gc2Nyb2xsZWQgKyBnZXRWaWV3cG9ydEgoKSxcbiAgICAgICAgICAgIGVsVG9wID0gZ2V0T2Zmc2V0KGVsKS50b3AsXG4gICAgICAgICAgICBlbEJvdHRvbSA9IGVsVG9wICsgZWxILFxuICAgICAgICAgICAgLy8gaWYgMCwgdGhlIGVsZW1lbnQgaXMgY29uc2lkZXJlZCBpbiB0aGUgdmlld3BvcnQgYXMgc29vbiBhcyBpdCBlbnRlcnMuXG4gICAgICAgICAgICAvLyBpZiAxLCB0aGUgZWxlbWVudCBpcyBjb25zaWRlcmVkIGluIHRoZSB2aWV3cG9ydCBvbmx5IHdoZW4gaXQncyBmdWxseSBpbnNpZGVcbiAgICAgICAgICAgIC8vIHZhbHVlIGluIHBlcmNlbnRhZ2UgKDEgPj0gaCA+PSAwKVxuICAgICAgICAgICAgaCA9IGggfHwgMDtcblxuICAgICAgICByZXR1cm4gKGVsVG9wICsgZWxIICogaCkgPD0gdmlld2VkICYmIChlbEJvdHRvbSkgPj0gc2Nyb2xsZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXh0ZW5kKCBhLCBiICkge1xuICAgICAgICBmb3IoIHZhciBrZXkgaW4gYiApIHtcbiAgICAgICAgICAgIGlmKCBiLmhhc093blByb3BlcnR5KCBrZXkgKSApIHtcbiAgICAgICAgICAgICAgICBhW2tleV0gPSBiW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2JwU2Nyb2xsZXIoIGVsLCBvcHRpb25zICkge1xuICAgICAgICB0aGlzLmVsID0gZWw7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZCggdGhpcy5kZWZhdWx0cywgb3B0aW9ucyApO1xuICAgICAgICB0aGlzLl9pbml0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgY2xzKSB7XG4gICAgICAgIHJldHVybiAoJyAnICsgZWxlbWVudC5jbGFzc05hbWUgKyAnICcpLmluZGV4T2YoJyAnICsgY2xzICsgJyAnKSA+IC0xO1xuICAgIH1cblxuICAgIGNicFNjcm9sbGVyLnByb3RvdHlwZSA9IHtcbiAgICAgICAgZGVmYXVsdHMgOiB7XG4gICAgICAgICAgICAvLyBUaGUgdmlld3BvcnRGYWN0b3IgZGVmaW5lcyBob3cgbXVjaCBvZiB0aGUgYXBwZWFyaW5nIGl0ZW0gaGFzIHRvIGJlIHZpc2libGUgaW4gb3JkZXIgdG8gdHJpZ2dlciB0aGUgYW5pbWF0aW9uXG4gICAgICAgICAgICAvLyBpZiB3ZSdkIHVzZSBhIHZhbHVlIG9mIDAsIHRoaXMgd291bGQgbWVhbiB0aGF0IGl0IHdvdWxkIGFkZCB0aGUgYW5pbWF0aW9uIGNsYXNzIGFzIHNvb24gYXMgdGhlIGl0ZW0gaXMgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAgICAgICAgLy8gSWYgd2Ugd2VyZSB0byB1c2UgdGhlIHZhbHVlIG9mIDEsIHRoZSBhbmltYXRpb24gd291bGQgb25seSBiZSB0cmlnZ2VyZWQgd2hlbiB3ZSBzZWUgYWxsIG9mIHRoZSBpdGVtIGluIHRoZSB2aWV3cG9ydCAoMTAwJSBvZiBpdClcbiAgICAgICAgICAgIHZpZXdwb3J0RmFjdG9yIDogMC4yXG4gICAgICAgIH0sXG4gICAgICAgIF9pbml0IDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiggTW9kZXJuaXpyLnRvdWNoICkgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5zZWN0aW9ucyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKCB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoICcuYW5pbWF0ZWQnICkgKTtcbiAgICAgICAgICAgIHRoaXMuZGlkU2Nyb2xsID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHNjcm9sbEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoICFzZWxmLmRpZFNjcm9sbCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGlkU2Nyb2xsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgeyBzZWxmLl9zY3JvbGxQYWdlKCk7IH0sIDYwICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZGVsYXllZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3Njcm9sbFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVzaXplVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBzZWxmLnJlc2l6ZVRpbWVvdXQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoIHNlbGYucmVzaXplVGltZW91dCApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoIGRlbGF5ZWQsIDIwMCApO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAnc2Nyb2xsJywgc2Nyb2xsSGFuZGxlciwgZmFsc2UgKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAncmVzaXplJywgcmVzaXplSGFuZGxlciwgZmFsc2UgKTtcbiAgICAgICAgfSxcbiAgICAgICAgX3Njcm9sbFBhZ2UgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zZWN0aW9ucy5mb3JFYWNoKCBmdW5jdGlvbiggZWwsIGkgKSB7XG4gICAgICAgICAgICAgICAgaWYoIGluVmlld3BvcnQoIGVsLCBzZWxmLm9wdGlvbnMudmlld3BvcnRGYWN0b3IgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NpZS5hZGQoIGVsLCAnYXBwZWFyZWQnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0NsYXNzKGVsLCAnZmFkZS1pbi1sZWZ0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzaWUuYWRkKGVsLCAnZmFkZUluTGVmdCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NsYXNzKGVsLCAnZmFkZS1pbi1yaWdodCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2llLmFkZChlbCwgJ2ZhZGVJblJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2xhc3MoZWwsICdmYWRlLWluLXVwJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzaWUuYWRkKGVsLCAnZmFkZUluVXAnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2ZhZGUtaW4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NpZS5hZGQoZWwsICdmYWRlSW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNDbGFzcyhlbCwgJ2ZhZGUtaW4tZG93bicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2llLmFkZChlbCwgJ2ZhZGVJbkRvd24nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5kaWRTY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGFkZCB0byBnbG9iYWwgbmFtZXNwYWNlXG4gICAgd2luZG93LmNicFNjcm9sbGVyID0gY2JwU2Nyb2xsZXI7XG5cbn0pKHdpbmRvdyk7XG4iLCJtYXBzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBpbml0LCByZW5kZXI7XG5cblx0cmVuZGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1hcCwgbWFya2VyLCBteU9wdGlvbnMsIHN0eWxlO1xuXHRcdHN0eWxlID0gW1xuXHRcdHtcblx0XHRcdFwic3R5bGVyc1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwic2F0dXJhdGlvblwiOiAtMTAwXG5cdFx0XHR9LCB7XG5cdFx0XHRcdFwiZ2FtbWFcIjogMC44XG5cdFx0XHR9LCB7XG5cdFx0XHRcdFwibGlnaHRuZXNzXCI6IDRcblx0XHRcdH0sIHtcblx0XHRcdFx0XCJ2aXNpYmlsaXR5XCI6IFwib25cIlxuXHRcdFx0fVxuXHRcdFx0XVxuXHRcdH0sIHtcblx0XHRcdFwiZmVhdHVyZVR5cGVcIjogXCJsYW5kc2NhcGUubmF0dXJhbFwiLFxuXHRcdFx0XCJzdHlsZXJzXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJ2aXNpYmlsaXR5XCI6IFwib25cIlxuXHRcdFx0fSwge1xuXHRcdFx0XHRcImNvbG9yXCI6IFwiIzVkZmYwMFwiXG5cdFx0XHR9LCB7XG5cdFx0XHRcdFwiZ2FtbWFcIjogNC45N1xuXHRcdFx0fSwge1xuXHRcdFx0XHRcImxpZ2h0bmVzc1wiOiAtNVxuXHRcdFx0fSwge1xuXHRcdFx0XHRcInNhdHVyYXRpb25cIjogMTAwXG5cdFx0XHR9XG5cdFx0XHRdXG5cdFx0fVxuXHRcdF07XG5cdFx0bXlPcHRpb25zID0ge1xuXHRcdFx0em9vbTogMTgsXG5cdFx0XHRjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoLTUuODAzMzE2LC0zNS4yMDE4NCksXG5cdFx0XHRtYXBUeXBlSWQ6IGdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQLFxuXHRcdFx0c3R5bGVzOiBzdHlsZSxcblx0XHRcdG1hcFR5cGVDb250cm9sOiBmYWxzZSxcblx0XHRcdHN0cmVldFZpZXdDb250cm9sOiBmYWxzZSxcblx0XHRcdHNjcm9sbHdoZWVsOiBmYWxzZSxcblx0XHRcdG5hdmlnYXRpb25Db250cm9sOiBmYWxzZSxcblx0XHRcdHNjYWxlQ29udHJvbDogZmFsc2UsXG5cdFx0XHRvdmVydmlld01hcENvbnRyb2w6IGZhbHNlLFxuXHRcdFx0cGFuQ29udHJvbDogdHJ1ZSxcblx0XHRcdHpvb21Db250cm9sOiB0cnVlLFxuXHRcdFx0em9vbUNvbnRyb2xPcHRpb25zOiB7XG5cdFx0XHRcdHN0eWxlOiBnb29nbGUubWFwcy5ab29tQ29udHJvbFN0eWxlLkxBUkdFXG5cdFx0XHR9XG5cdFx0fTtcblx0XHRpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpKSB7XG5cdFx0XHRtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwgbXlPcHRpb25zKTtcblxuXHRcdFx0bWFya2VyMSA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuXHRcdFx0XHRwb3NpdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZygtNS44MDMzMTYsLTM1LjIwMTg0KSxcblx0XHRcdFx0bWFwOiBtYXAsXG5cdFx0XHRcdGljb246ICcnXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gdmFyIGluZm93aW5kb3cxID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe1xuXHRcdFx0Ly8gXHRjb250ZW50OiAnPGRpdiBpZD1cImNvbnRlbnRcIiBjbGFzcz1cIm1hcF9faW5mb1wiPicrXG5cdFx0XHQvLyBcdCc8aDQgY2xhc3M9XCJtYXBfX3RpdGxlXCI+Q2luZW1hIGRhIEZ1bmRhajwvaDQ+Jytcblx0XHRcdC8vIFx0JzxkaXYgaWQ9XCJib2R5Q29udGVudFwiPicrXG5cdFx0XHQvLyBcdCc8cCBjbGFzcz1cIm1hcF9fYWRkcmVzc1wiPjxiPlJ1YSBIZW5yaXF1ZSBEaWFzLCA2MDkgLSBEZXJieSAtIFJlY2lmZS9QRTwvYj48L3A+JyArXG5cdFx0XHQvLyBcdCc8L2Rpdj4nK1xuXHRcdFx0Ly8gXHQnPC9kaXY+J1xuXHRcdFx0Ly8gfSk7XG5cblx0XHRcdC8vIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlcjEsICdtb3VzZW92ZXInLCBmdW5jdGlvbigpIHtcblx0XHRcdC8vIFx0aW5mb3dpbmRvdzEub3BlbihtYXAsIG1hcmtlcjEpO1xuXHRcdFx0Ly8gfSk7XG5cdFx0fVxuXHR9O1xuXHRpbml0ID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSkge1xuXHRcdFx0cmV0dXJuIHJlbmRlcigpO1xuXHRcdH1cblx0fTtcblx0cmV0dXJuIHtcblx0XHRpbml0OiBpbml0XG5cdH07XG59O1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXHR2YXIgbWFwID0gbWFwcygpO1xuXHRtYXAuaW5pdCgpO1xufSk7XG4iLCJmdW5jdGlvbiBzY3JvbGxIYW5kbGVyKCkge1xuICB2YXIgc2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuXG4gIHZhciB0b3BiYXIgPSAkKCcjdG9wYmFyJyk7XG4gIHZhciB0b3BiYXJIZWlnaHQgPSB0b3BiYXIub3V0ZXJIZWlnaHQoKTtcblxuXHRpZiAoc2Nyb2xsVG9wID4gdG9wYmFySGVpZ2h0KSB7XG5cdFx0Y2xhc3NpZS5hZGQodG9wYmFyWzBdLCAnZml4ZWQtdG9wYmFyJyk7XG5cdH0gZWxzZSB7XG5cdFx0Y2xhc3NpZS5yZW1vdmUodG9wYmFyWzBdLCAnZml4ZWQtdG9wYmFyJyk7XG5cdH1cbn1cblxuLy8gJCh3aW5kb3cpLnNjcm9sbChzY3JvbGxIYW5kbGVyKTtcbiIsIiQoJyN0b3BiYXIgLnRvcGJhcl9fbmF2IGFbZGF0YS1kcm9wXScpXG5cdC5tb3VzZWVudGVyKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBkcm9wZG93biA9ICQodGhpcykuYXR0cignZGF0YS1kcm9wJyk7XG5cdFx0Ly8gJCgnLicgKyBkcm9wZG93bikuY2xvc2VzdCgnLmRyb3Bkb3duLS13cmFwJykuc2hvdygpO1xuXHRcdCQoJy4nICsgZHJvcGRvd24pLmNsb3Nlc3QoJy5kcm9wZG93bi0td3JhcCcpLmFkZENsYXNzKCdzaG93Jyk7XG5cdH0pXG5cdC5tb3VzZWxlYXZlKGZ1bmN0aW9uKCkge1xuXHRcdHZhciBkcm9wZG93biA9ICQodGhpcykuYXR0cignZGF0YS1kcm9wJyk7XG5cdFx0Ly8gJCgnLicgKyBkcm9wZG93bikuY2xvc2VzdCgnLmRyb3Bkb3duLS13cmFwJykuaGlkZSgpO1xuXHRcdCQoJy4nICsgZHJvcGRvd24pLmNsb3Nlc3QoJy5kcm9wZG93bi0td3JhcCcpLnJlbW92ZUNsYXNzKCdzaG93Jyk7XG5cdH0pIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9